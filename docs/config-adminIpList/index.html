<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Admin IP List | NotifyBC</title>
    <meta name="generator" content="VuePress 1.7.1">
    
    <meta name="description" content="A versatile notification API server">
    <meta name="theme-color" content="#3eaf7c">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    
    <link rel="preload" href="/NotifyBC/assets/css/0.styles.7904a91c.css" as="style"><link rel="preload" href="/NotifyBC/assets/js/app.e8fddf49.js" as="script"><link rel="preload" href="/NotifyBC/assets/js/2.55711d2d.js" as="script"><link rel="preload" href="/NotifyBC/assets/js/3.ace2b3d8.js" as="script"><link rel="preload" href="/NotifyBC/assets/js/17.c045c787.js" as="script"><link rel="prefetch" href="/NotifyBC/assets/js/10.9f331a88.js"><link rel="prefetch" href="/NotifyBC/assets/js/11.838a8599.js"><link rel="prefetch" href="/NotifyBC/assets/js/12.ab021799.js"><link rel="prefetch" href="/NotifyBC/assets/js/13.1fd18b18.js"><link rel="prefetch" href="/NotifyBC/assets/js/14.ddb893a9.js"><link rel="prefetch" href="/NotifyBC/assets/js/15.73cc894f.js"><link rel="prefetch" href="/NotifyBC/assets/js/16.018b29f5.js"><link rel="prefetch" href="/NotifyBC/assets/js/18.225e743e.js"><link rel="prefetch" href="/NotifyBC/assets/js/19.c289488d.js"><link rel="prefetch" href="/NotifyBC/assets/js/20.422f22aa.js"><link rel="prefetch" href="/NotifyBC/assets/js/21.f6a92ee0.js"><link rel="prefetch" href="/NotifyBC/assets/js/22.5d9ca45c.js"><link rel="prefetch" href="/NotifyBC/assets/js/23.a71a72ed.js"><link rel="prefetch" href="/NotifyBC/assets/js/24.b186caf3.js"><link rel="prefetch" href="/NotifyBC/assets/js/25.7900d077.js"><link rel="prefetch" href="/NotifyBC/assets/js/26.d4e43ec4.js"><link rel="prefetch" href="/NotifyBC/assets/js/27.a28d7c91.js"><link rel="prefetch" href="/NotifyBC/assets/js/28.03db757e.js"><link rel="prefetch" href="/NotifyBC/assets/js/29.ed3788e5.js"><link rel="prefetch" href="/NotifyBC/assets/js/30.4a1fe0b2.js"><link rel="prefetch" href="/NotifyBC/assets/js/31.b0ede40b.js"><link rel="prefetch" href="/NotifyBC/assets/js/32.4e36678d.js"><link rel="prefetch" href="/NotifyBC/assets/js/33.2266c6d8.js"><link rel="prefetch" href="/NotifyBC/assets/js/34.ed964e87.js"><link rel="prefetch" href="/NotifyBC/assets/js/35.5dfb34ed.js"><link rel="prefetch" href="/NotifyBC/assets/js/36.e32f9770.js"><link rel="prefetch" href="/NotifyBC/assets/js/37.e5cf35e9.js"><link rel="prefetch" href="/NotifyBC/assets/js/38.181456e4.js"><link rel="prefetch" href="/NotifyBC/assets/js/39.14bf1ba9.js"><link rel="prefetch" href="/NotifyBC/assets/js/4.5d35a787.js"><link rel="prefetch" href="/NotifyBC/assets/js/40.9effd07c.js"><link rel="prefetch" href="/NotifyBC/assets/js/41.1acfb0a4.js"><link rel="prefetch" href="/NotifyBC/assets/js/42.69df8742.js"><link rel="prefetch" href="/NotifyBC/assets/js/43.f7647c94.js"><link rel="prefetch" href="/NotifyBC/assets/js/5.3c962adf.js"><link rel="prefetch" href="/NotifyBC/assets/js/6.5a29f8a4.js"><link rel="prefetch" href="/NotifyBC/assets/js/7.09d44f08.js"><link rel="prefetch" href="/NotifyBC/assets/js/8.a44f4a22.js"><link rel="prefetch" href="/NotifyBC/assets/js/9.004b3cc2.js">
    <link rel="stylesheet" href="/NotifyBC/assets/css/0.styles.7904a91c.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/NotifyBC/" class="home-link router-link-active"><img src="/NotifyBC/img/logo.svg" alt="NotifyBC" class="logo"></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/NotifyBC/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/NotifyBC/docs/" class="nav-link router-link-active">
  Docs
</a></div> <a href="https://github.com/f-w/NotifyBC" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/NotifyBC/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/NotifyBC/docs/" class="nav-link router-link-active">
  Docs
</a></div> <a href="https://github.com/f-w/NotifyBC" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Getting Started</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/NotifyBC/docs/" aria-current="page" class="sidebar-link">Welcome</a></li><li><a href="/NotifyBC/docs/overview/" class="sidebar-link">Overview</a></li><li><a href="/NotifyBC/docs/quickstart/" class="sidebar-link">Quick-start guide</a></li><li><a href="/NotifyBC/docs/installation/" class="sidebar-link">Installation</a></li><li><a href="/NotifyBC/docs/usage/" class="sidebar-link">Basic Usage</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Configuration</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/NotifyBC/docs/config-overview/" class="sidebar-link">Configuration Overview</a></li><li><a href="/NotifyBC/docs/config-adminIpList/" aria-current="page" class="active sidebar-link">Admin IP List</a></li><li><a href="/NotifyBC/docs/config-reverseProxyIpLists/" class="sidebar-link">Reverse Proxy IP Lists</a></li><li><a href="/NotifyBC/docs/config-httpHost/" class="sidebar-link">HTTP Host</a></li><li><a href="/NotifyBC/docs/config-smtp/" class="sidebar-link">SMTP</a></li><li><a href="/NotifyBC/docs/config-sms/" class="sidebar-link">SMS</a></li><li><a href="/NotifyBC/docs/config-subscription/" class="sidebar-link">Subscription</a></li><li><a href="/NotifyBC/docs/config-notification/" class="sidebar-link">Notification</a></li><li><a href="/NotifyBC/docs/config-database/" class="sidebar-link">Database</a></li><li><a href="/NotifyBC/docs/config-nodeRoles/" class="sidebar-link">Node Roles</a></li><li><a href="/NotifyBC/docs/config-cronJobs/" class="sidebar-link">Cron Jobs</a></li><li><a href="/NotifyBC/docs/config-rsaKeys/" class="sidebar-link">RSA Keys</a></li><li><a href="/NotifyBC/docs/config-internalHttpHost/" class="sidebar-link">Internal HTTP Host</a></li><li><a href="/NotifyBC/docs/config-inboundSmtpServer/" class="sidebar-link">Inbound SMTP Server</a></li><li><a href="/NotifyBC/docs/config-listUnsubscribeByEmail/" class="sidebar-link">List-unsubscribe by Email</a></li><li><a href="/NotifyBC/docs/config-notificationBounce/" class="sidebar-link">Notification Bounce</a></li><li><a href="/NotifyBC/docs/config-workerProcessCount/" class="sidebar-link">Worker Process Count</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>API</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/NotifyBC/docs/api-overview/" class="sidebar-link">API Overview</a></li><li><a href="/NotifyBC/docs/api-subscription/" class="sidebar-link">Subscription</a></li><li><a href="/NotifyBC/docs/api-notification/" class="sidebar-link">Notification</a></li><li><a href="/NotifyBC/docs/api-config/" class="sidebar-link">Configuration</a></li><li><a href="/NotifyBC/docs/api-administrator/" class="sidebar-link">Administrator</a></li><li><a href="/NotifyBC/docs/api-bounce/" class="sidebar-link">Bounce</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Miscellaneous</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/NotifyBC/docs/benchmarks/" class="sidebar-link">Benchmarks</a></li><li><a href="/NotifyBC/docs/bulk-import/" class="sidebar-link">Bulk Import</a></li><li><a href="/NotifyBC/docs/developer-notes/" class="sidebar-link">Developer Notes</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Meta</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/NotifyBC/docs/conduct/" class="sidebar-link">Code of Conduct</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><p>By <a href="/NotifyBC/docs/overview/#architecture">design</a>, <em>NotifyBC</em> classifies incoming requests into four types. For a request to be classified as super-admin, the request's source ip must be in admin ip list. By default, the list contains <em>localhost</em> only as defined by <em>defaultAdminIps</em> in <em>/server/config.json</em></p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;defaultAdminIps&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token string">&quot;127.0.0.1&quot;</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><p>to modify, create config object <em>adminIps</em> with updated list in file <em>/server/config.local.js</em> instead. For example, to add ip range <em>192.168.0.0/24</em> to the list</p> <div class="language-js extra-class"><pre class="language-js"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token string">&quot;adminIps&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token string">&quot;127.0.0.1&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;192.168.0.0/24&quot;</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><p>It should be noted that <em>NotifyBC</em> may generate http requests sending to itself. These http requests are expected to be admin requests. If you have created an app cluster such as in OpenShift, you should add the cluster ip range to <em>adminIps</em>. In OpenShift, this ip range is a private ip range. In BCGov's OpenShift cluster, the ip range starts with octet 172.</p> <div class="custom-block danger"><p class="custom-block-title">Define static array config in one file only</p> <p>Due to a <a href="https://github.com/strongloop/loopback-boot/issues/172">bug</a> in Loopback a config of array type such as <i>adminIps</i> cannot be merged if defined in multiple files with different length. To mitigate, only define an array config in one file.
It is for this reason that the default admin ip list has to use a different name <i>defaultAdminIps</i> as shown above.</p></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/NotifyBC/docs/config-overview/" class="prev">
        Configuration Overview
      </a></span> <span class="next"><a href="/NotifyBC/docs/config-reverseProxyIpLists/">
        Reverse Proxy IP Lists
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/NotifyBC/assets/js/app.e8fddf49.js" defer></script><script src="/NotifyBC/assets/js/2.55711d2d.js" defer></script><script src="/NotifyBC/assets/js/3.ace2b3d8.js" defer></script><script src="/NotifyBC/assets/js/17.c045c787.js" defer></script>
  </body>
</html>
